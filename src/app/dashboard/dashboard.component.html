<div id="title">Investment Dashboard</div>
<div class="container">
         <div class="day-container">
                <h1>{{data.MaxDate | date:'EEEE, dd MMMM'}}</h1>
                <div class="day-return-amnt pstv-amnt" *ngIf = "data.SingleNodes[0].Daily_Ret >= 0">&#8377;{{data.SingleNodes[0].Daily_Ret | number}}  &nbsp;  {{data.SingleNodes[0].Daily_Per}}%</div>
                <div class="day-return-amnt ngtv-amnt" *ngIf = "data.SingleNodes[0].Daily_Ret < 0">-&#8377;{{data.SingleNodes[0].Daily_Ret*-1 | number}}  &nbsp;  {{data.SingleNodes[0].Daily_Per*-1}}%</div>
                <div class="day-other-return-amnt">
                        <div class="pstv-amnt" *ngIf = "data.SingleNodes[0].Yest_Ret >= 0"><span class="amnt-header">Yesterday :</span> &#8377;{{data.SingleNodes[0].Yest_Ret | number}} ({{data.SingleNodes[0].Yest_Per}}%)</div>
                        <div class="ngtv-amnt" *ngIf = "data.SingleNodes[0].Yest_Ret < 0"><span class="amnt-header">Yesterday :</span> -&#8377;{{data.SingleNodes[0].Yest_Ret*-1 | number}} ({{data.SingleNodes[0].Yest_Per*-1}}%)</div>
                        <div class="pstv-amnt" *ngIf = "data.SingleNodes[0].Weekly_Ret >= 0"><span class="amnt-header">Week :</span> &#8377;{{data.SingleNodes[0].Weekly_Ret | number}} ({{data.SingleNodes[0].Weekly_Per}}%)</div>
                        <div class="ngtv-amnt" *ngIf = "data.SingleNodes[0].Weekly_Ret < 0"><span class="amnt-header">Week :</span> -&#8377;{{data.SingleNodes[0].Weekly_Ret*-1 | number}} ({{data.SingleNodes[0].Weekly_Per*-1}}%)</div>
                        <div class="pstv-amnt" *ngIf = "data.SingleNodes[0].Monthly_Ret >= 0"><span class="amnt-header">Month :</span> &#8377;{{data.SingleNodes[0].Monthly_Ret | number}} ({{data.SingleNodes[0].Monthly_Per}}%)</div>
                        <div class="ngtv-amnt" *ngIf = "data.SingleNodes[0].Monthly_Ret < 0"><span class="amnt-header">Month :</span> -&#8377;{{data.SingleNodes[0].Monthly_Ret*-1 | number}} ({{data.SingleNodes[0].Monthly_Per*-1}}%)</div>
                </div>
                <div class="day-sub-return-cont">
                        <div class="day-sub-return" *ngFor="let user of data.UserNodes" (click)="expandDayOverview(user.Name, 'open')" [ngClass]="{ 'expanded': user.isExpandedDay }">
                                
                                <div class="day-sub-overview" (click)="expandDayOverview(user.Name, 'close')" [ngClass]="{ 'expanded': user.isExpandedDay }" >   
                                        <div >{{user.Name}}</div>
                                        <div>                               
                                                <div class="day-sub-return-amnt pstv-amnt" *ngIf = "user.Daily_Ret >= 0" >&#8377;{{user.Daily_Ret | number}}  &nbsp;  {{user.Daily_Per}}%</div>
                                                <div class="day-sub-return-amnt ngtv-amnt" *ngIf = "user.Daily_Ret < 0" >-&#8377;{{user.Daily_Ret*-1 | number}}  &nbsp;  {{user.Daily_Per*-1}}%</div>
                                        </div> 
                                        <div class="day-user-other-return" *ngIf = "!user.isExpandedDay">
                                                <div class="day-user-other-return-amnt pstv-amnt" *ngIf = "user.Yest_Ret >= 0"><span class="amnt-header">Y :</span> &#8377;{{user.Yest_Ret | number}} ({{user.Yest_Per}}%)</div>
                                                <div class="day-user-other-return-amnt ngtv-amnt" *ngIf = "user.Yest_Ret < 0"><span class="amnt-header">Y :</span> -&#8377;{{user.Yest_Ret*-1 | number}} ({{user.Yest_Per*-1}}%)</div>
                                                <div class="day-user-other-return-amnt pstv-amnt" *ngIf = "user.Weekly_Ret >= 0"><span class="amnt-header">W :</span> &#8377;{{user.Weekly_Ret | number}} ({{user.Weekly_Per}}%)</div>
                                                <div class="day-user-other-return-amnt ngtv-amnt" *ngIf = "user.Weekly_Ret < 0"><span class="amnt-header">W :</span> -&#8377;{{user.Weekly_Ret*-1 | number}} ({{user.Weekly_Per*-1}}%)</div>
                                                <div class="day-user-other-return-amnt pstv-amnt" *ngIf = "user.Monthly_Ret >= 0"><span class="amnt-header">M :</span> &#8377;{{user.Monthly_Ret | number}} ({{user.Monthly_Per}}%)</div>
                                                <div class="day-user-other-return-amnt ngtv-amnt" *ngIf = "user.Monthly_Ret < 0"><span class="amnt-header">M :</span> -&#8377;{{user.Monthly_Ret*-1 | number}} ({{user.Monthly_Per*-1}}%)</div>
                                        </div>
                                </div>
                                <div class="day-sub-details" *ngIf = "user.isExpandedDay" >
                                        <table class="day-sub-details-tbl">
                                                <thead>
                                                        <tr>
                                                                <th></th>
                                                                <th>TODAY</th>
                                                                <th>YESTERDAY</th>
                                                                <th>WEEK</th>
                                                                <th>MONTH</th>
                                                        </tr>
                                                </thead>
                                                
                                                <tr *ngFor="let MutualFund of user.MutualFunds" >
                                                        <td>{{ MutualFund.MutualFund }}</td>
                                                        <td *ngIf = "MutualFund.Daily_Ret >= 0" class="pstv-amnt">&#8377;{{ MutualFund.Daily_Ret | number}} <br/> <span class="day-perct">{{ MutualFund.Daily_Per }}%</span></td>
                                                        <td *ngIf = "MutualFund.Daily_Ret < 0" class="ngtv-amnt">-&#8377;{{ MutualFund.Daily_Ret*-1 | number}} <br/>  <span class="day-perct">{{ MutualFund.Daily_Per*-1 }}%</span></td>
                                                        <td *ngIf = "MutualFund.Yest_Ret >= 0" class="pstv-amnt">&#8377;{{ MutualFund.Yest_Ret | number}} <br/>  <span class="day-perct">{{ MutualFund.Yest_Per }}%</span></td>
                                                        <td *ngIf = "MutualFund.Yest_Ret < 0" class="ngtv-amnt">-&#8377;{{ MutualFund.Yest_Ret*-1 | number}} <br/>  <span class="day-perct">{{ MutualFund.Yest_Per*-1 }}%</span></td>
                                                        <td *ngIf = "MutualFund.Weekly_Ret >= 0" class="pstv-amnt">&#8377;{{ MutualFund.Weekly_Ret | number}} <br/>  <span class="day-perct">{{ MutualFund.Weekly_Per }}%</span></td>
                                                        <td *ngIf = "MutualFund.Weekly_Ret < 0" class="ngtv-amnt">-&#8377;{{ MutualFund.Weekly_Ret*-1 | number}} <br/>  <span class="day-perct">{{ MutualFund.Weekly_Per*-1 }}%</span></td>
                                                        <td *ngIf = "MutualFund.Yest_Ret >= 0" class="pstv-amnt">&#8377;{{ MutualFund.Yest_Ret | number}} <br/>  <span class="day-perct">{{ MutualFund.Monthly_Per }}%</span></td>
                                                        <td *ngIf = "MutualFund.Yest_Ret < 0" class="ngtv-amnt">-&#8377;{{ MutualFund.Yest_Ret*-1 | number}} <br/>  <span class="day-perct">{{ MutualFund.Monthly_Per*-1 }}%</span></td>
                                                        
                                                </tr>
                                                <tr style="background-color: #dfdfdf;">
                                                        <td></td>
                                                        <td *ngIf = "user.Daily_Ret >= 0" class="pstv-amnt">&#8377;{{ user.Daily_Ret | number}} <br/> <span class="day-perct">{{ user.Daily_Per }}%</span></td>
                                                        <td *ngIf = "user.Daily_Ret < 0" class="ngtv-amnt">-&#8377;{{ user.Daily_Ret*-1 | number}} <br/>  <span class="day-perct">{{ user.Daily_Per*-1 }}%</span></td>
                                                        <td *ngIf = "user.Yest_Ret >= 0" class="pstv-amnt">&#8377;{{ user.Yest_Ret | number}} <br/>  <span class="day-perct">{{ user.Yest_Per }}%</span></td>
                                                        <td *ngIf = "user.Yest_Ret < 0" class="ngtv-amnt">-&#8377;{{ user.Yest_Ret*-1 | number}} <br/>  <span class="day-perct">{{ user.Yest_Per*-1 }}%</span></td>
                                                        <td *ngIf = "user.Weekly_Ret >= 0" class="pstv-amnt">&#8377;{{ user.Weekly_Ret | number}} <br/>  <span class="day-perct">{{ user.Weekly_Per }}%</span></td>
                                                        <td *ngIf = "user.Weekly_Ret < 0" class="ngtv-amnt">-&#8377;{{ user.Weekly_Ret*-1 | number}} <br/>  <span class="day-perct">{{ user.Weekly_Per*-1 }}%</span></td>
                                                        <td *ngIf = "user.Monthly_Ret >= 0" class="pstv-amnt">&#8377;{{ user.Monthly_Ret | number}} <br/>  <span class="day-perct">{{ user.Monthly_Per }}%</span></td>
                                                        <td *ngIf = "user.Monthly_Ret < 0" class="ngtv-amnt">-&#8377;{{ user.Monthly_Ret*-1 | number}} <br/>  <span class="day-perct">{{ user.Monthly_Per*-1 }}%</span></td>
                                                </tr>
                                        </table>
                                </div>
                        </div>
                </div>
         </div>
         <div class="overall-container">
                <h1>Overall</h1>
                <div class="day-return-amnt pstv-amnt" *ngIf = "data.SingleNodes[0].Total_Ret >= 0">&#8377;{{data.SingleNodes[0].Total_Ret | number}}  &nbsp;  {{data.SingleNodes[0].Total_Per}}%</div>
                <div class="day-return-amnt ngtv-amnt" *ngIf = "data.SingleNodes[0].Total_Ret < 0">-&#8377;{{data.SingleNodes[0].Total_Ret*-1 | number}}  &nbsp;  {{data.SingleNodes[0].Total_Per*-1}}%</div>
                <div class="day-other-return-amnt">
                        
                        <div class="pstv-amnt" *ngIf = "data.SingleNodes[0].MaxReturn >= 0"><span class="amnt-header">Maximum :</span> &#8377;{{data.SingleNodes[0].MaxReturn | number}} ({{data.SingleNodes[0].Max_Per}}%)</div>
                        <div class="ngtv-amnt" *ngIf = "data.SingleNodes[0].MaxReturn < 0"><span class="amnt-header">Maximum :</span> -&#8377;{{data.SingleNodes[0].MaxReturn*-1 | number}} ({{data.SingleNodes[0].Max_Per*-1}}%)</div>
                        <div class="pstv-amnt"  *ngIf = "data.SingleNodes[0].Investments <= data.SingleNodes[0].MarketValue"><span class="amnt-header">Market Value :</span> &#8377;{{data.SingleNodes[0].MarketValue | number}}</div>
                        <div class="ngtv-amnt"  *ngIf = "data.SingleNodes[0].Investments > data.SingleNodes[0].MarketValue"><span class="amnt-header">Market Value :</span> &#8377;{{data.SingleNodes[0].MarketValue | number}}</div>
                        <div class=""><span class="amnt-header">Investment :</span> &#8377;{{data.SingleNodes[0].Investments | number}}</div>
                </div>
                <div class="day-sub-return-cont">
                        <div class="day-sub-return" *ngFor="let user of data.UserNodes" (click)="expandOverall(user.Name, 'open')" [ngClass]="{ 'expanded': user.isExpandedAll }">
                                
                                <div class="day-sub-overview" (click)="expandOverall(user.Name, 'close')" [ngClass]="{ 'expanded': user.isExpandedAll }" >
                                        <div >{{user.Name}}</div>
                                        <div>
                                                <div class="day-sub-return-amnt pstv-amnt" *ngIf = "user.Total_Ret >= 0" >&#8377;{{user.Total_Ret | number}}  &nbsp;  {{user.Total_Per }}%</div>
                                                <div class="day-sub-return-amnt ngtv-amnt" *ngIf = "user.Total_Ret < 0" >-&#8377;{{user.Total_Ret*-1 | number}}  &nbsp;  {{user.Total_Per*-1}}%</div>        
                                        </div>
                                        
                                </div>
                                <div class="day-user-other-return" [ngClass]="{ 'expanded': user.isExpandedAll }">
                                        <div class="day-user-other-return-amnt pstv-amnt" *ngIf = "user.MaxReturn >= 0"><span class="amnt-header">Max :</span> &#8377;{{user.MaxReturn | number}} ({{user.Max_Per}}%)</div>                                               
                                        <div class="day-user-other-return-amnt max-amnt"  *ngIf = "user.DownFromMax === user.MarketValue"><span class="amnt-header">Down :</span> &#8377;{{user.DownFromMax | number}} ({{ user.DownMax_Per }}%)</div>
                                        <div class="day-user-other-return-amnt ngtv-amnt"  *ngIf = "user.DownFromMax > 0"><span class="amnt-header">Down :</span> &#8377;{{user.DownFromMax | number}} ({{ user.DownMax_Per }}%)</div>    
                                        <div class="day-user-other-return-amnt pstv-amnt"  *ngIf = "user.Investments <= user.MarketValue"><span class="amnt-header">Market Value :</span> &#8377;{{user.MarketValue | number}}</div>
                                        <div class="day-user-other-return-amnt ngtv-amnt"  *ngIf = "user.Investments > user.MarketValue"><span class="amnt-header">Market Value :</span> &#8377;{{user.MarketValue | number}}</div>
               
                                        <div class="day-user-other-return-amnt"><span class="amnt-header">Investment :</span> &#8377;{{user.Investments | number}}</div>
                                </div>
                                <div class="day-sub-details" *ngIf = "user.isExpandedAll" >
                                        <table class="day-sub-details-tbl">
                                                <thead>
                                                        <tr>
                                                                <th></th>
                                                                <th>INVESTMENT</th>
                                                                <th>RETURN</th>
                                                                <th>MAXIMUM</th>
                                                                <th>DOWN</th>
                                                        </tr>
                                                </thead>
                                                <ng-container *ngFor="let MutualFund of user.MutualFunds">
                                                        <tr (click)="expandMutualFund(user.Name, MutualFund.MFId)" >
                                                                <td>{{ MutualFund.MutualFund }}</td>
                                                                <td>&#8377;{{ MutualFund.Investments| number}}</td>
                                                                <td *ngIf = "MutualFund.Total_Ret >= 0 && MutualFund.DownFromMax === 0" class="pstv-amnt">&#8377;{{ MutualFund.Total_Ret | number}} <br/> <span class="day-perct">{{ MutualFund.Total_Per }}%</span></td>
                                                                <td *ngIf = "MutualFund.Total_Ret >= 0 && MutualFund.DownFromMax != 0" class="mid-amnt">&#8377;{{ MutualFund.Total_Ret | number}} <br/> <span class="day-perct">{{ MutualFund.Total_Per }}%</span></td>
                                                                <td *ngIf = "MutualFund.Total_Ret < 0" class="ngtv-amnt">-&#8377;{{ MutualFund.Total_Ret*-1 | number}} <br/> <span class="day-perct">{{ MutualFund.Total_Per*-1 }}%</span></td>
                                                                <td class="max-amnt">&#8377;{{ MutualFund.MaxReturn | number}} <br/> <span class="day-perct">{{ MutualFund.Max_Per }}%</span></td>
                                                                <td *ngIf = "MutualFund.DownFromMax === 0" class="max-amnt">&#8377;{{ MutualFund.DownFromMax | number}} <br/> <span class="day-perct">{{ MutualFund.DownMax_Per }}%</span></td>
                                                                <td *ngIf = "MutualFund.DownFromMax > 0" class="ngtv-amnt">&#8377;{{ MutualFund.DownFromMax | number}} <br/> <span class="day-perct">{{ MutualFund.DownMax_Per }}%</span></td>
                                                        </tr>
                                                        <tr *ngIf="MutualFund.isExpanded">
                                                                <td colspan="5">
                                                                        <table class="sub-table">
                                                                                <thead>
                                                                                        <tr>
                                                                                                <th>Date</th>
                                                                                                <th>NAV</th>
                                                                                                <th>Units</th>
                                                                                                <th>Amount</th>
                                                                                                <th>Return</th>
                                                                                                <th>Maximum</th>
                                                                                                <th>Down</th>
                                                                                        </tr>
                                                                                </thead>
                                                                                <ng-container *ngFor="let purchase of MutualFund.Purchase">
                                                                                        <tr>
                                                                                                <td>{{purchase.PurchaseDate }}</td>
                                                                                                <td>{{purchase.Purchase_NAV | number}}</td>
                                                                                                <td>{{purchase.Units | number}}</td>
                                                                                                <td>{{purchase.Investments | number}}</td>
                                                                                                <td *ngIf = "purchase.Total_Ret >= 0 && purchase.DownFromMax === 0" class="pstv-amnt">&#8377;{{ purchase.Total_Ret | number}} <br/> <span class="day-perct">{{ purchase.Total_Per }}%</span></td>
                                                                                                <td *ngIf = "purchase.Total_Ret >= 0 && purchase.DownFromMax != 0" class="mid-amnt">&#8377;{{ purchase.Total_Ret | number}} <br/> <span class="day-perct">{{ purchase.Total_Per }}%</span></td>
                                                                                                <td *ngIf = "purchase.Total_Ret < 0" class="ngtv-amnt">-&#8377;{{ purchase.Total_Ret*-1 | number}} <br/> <span class="day-perct">{{ purchase.Total_Per*-1 }}%</span></td>
                                                                                                <td class="max-amnt">{{purchase.MaxReturn | number}} <br /> <span class="day-perct">{{ purchase.Max_Per }}%</span></td>
                                                                                                <td *ngIf = "purchase.DownFromMax === 0" class="max-amnt">&#8377;{{ purchase.DownFromMax | number}} <br/> <span class="day-perct">{{ purchase.DownMax_Per }}%</span></td>
                                                                                                <td *ngIf = "purchase.DownFromMax > 0" class="ngtv-amnt">&#8377;{{ purchase.DownFromMax | number}} <br/> <span class="day-perct">{{ purchase.DownMax_Per }}%</span></td>
                                                                                        </tr>
                                                                                </ng-container>
                                                                        </table>
                                                                </td>
                                                        </tr>
                                                </ng-container>
                                                
                                                <tr>
                                                        <td></td>
                                                        <td>&#8377;{{ user.Investments | number}}</td>
                                                        <td *ngIf = "user.Total_Ret >= 0 && user.DownFromMax === 0" class="mid-amnt" >&#8377;{{ user.Total_Ret | number}} <br/> <span class="day-perct">{{ user.Total_Per }}%</span></td>
                                                        <td *ngIf = "user.Total_Ret >= 0" class="pstv-amnt">&#8377;{{ user.Total_Ret | number}} <br/> <span class="day-perct">{{ user.Total_Per }}%</span></td>
                                                        <td *ngIf = "user.Total_Ret < 0" class="ngtv-amnt">-&#8377;{{ user.Total_Ret*-1 | number}} <br/> <span class="day-perct">{{ user.Total_Per*-1 }}%</span></td>
                                                        <td class="max-amnt">&#8377;{{ user.MaxReturn | number}} <br/> <span class="day-perct">{{ user.Max_Per }}%</span></td>
                                                        <td *ngIf = "user.DownFromMax === 0" class="max-amnt">&#8377;{{ user.DownFromMax | number}} <br/> <span class="day-perct">{{ user.DownMax_Per }}%</span></td>
                                                        <td *ngIf = "user.DownFromMax > 0" class="ngtv-amnt">&#8377;{{ user.DownFromMax | number}} <br/> <span class="day-perct">{{ user.DownMax_Per }}%</span></td>
                                                </tr>
                                        </table>
                                </div>
                        </div>
                </div>
         </div>
</div>
